"""
ê³ ê¸‰ íŒ¨ì…˜ ì¶”ì²œ ì‹œìŠ¤í…œ
- ìƒ‰ìƒ ì¡°í™”, ì†Œì¬ ì¡°í•©, í• ì¡°í•©, ìŠ¤íƒ€ì¼ ì¡°í•©, ê³„ì ˆë³„ ì í•©ì„±ì„ ëª¨ë‘ ê³ ë ¤í•œ ì¶”ì²œ
"""

import numpy as np
from typing import Dict, List, Tuple, Optional
from dataclasses import dataclass
import colorsys
import math

@dataclass
class FashionItem:
    """íŒ¨ì…˜ ì•„ì´í…œ ì •ë³´"""
    item_id: int
    category: str  # top, bottom, outer, dress
    subcategory: str  # í‹°ì…”ì¸ , ì²­ë°”ì§€, ì¬í‚· ë“±
    color: str
    fit: str  # tight, normal, loose, oversized
    materials: List[str]
    style: str  # casual, formal, sporty, elegant
    season: str  # spring, summer, fall, winter
    is_default: bool = False
    image_path: str = None  # ì´ë¯¸ì§€ íŒŒì¼ ê²½ë¡œ

@dataclass
class RecommendationScore:
    """ì¶”ì²œ ì ìˆ˜ ì„¸ë¶€ ì •ë³´"""
    total_score: float
    color_harmony: float
    material_combination: float
    fit_combination: float
    style_combination: float
    seasonal_suitability: float
    category_compatibility: float

class AdvancedFashionRecommender:
    """ê³ ê¸‰ íŒ¨ì…˜ ì¶”ì²œ ì‹œìŠ¤í…œ"""
    
    def __init__(self):
        self.color_harmony_weights = {
            'complementary': 0.9,    # ë³´ìƒ‰ ì¡°í™”
            'analogous': 0.8,        # ìœ ì‚¬ìƒ‰ ì¡°í™”
            'triadic': 0.7,          # ì‚¼ì›ìƒ‰ ì¡°í™”
            'monochromatic': 0.6,    # ë‹¨ìƒ‰ ì¡°í™”
            'neutral': 0.5,          # ì¤‘ì„±ìƒ‰ ì¡°í™”
            'clashing': 0.2          # ìƒ‰ìƒ ì¶©ëŒ
        }
        
        self.material_combinations = {
            # ìƒì˜-í•˜ì˜ ì†Œì¬ ì¡°í•©
            ('cotton', 'denim'): 0.9,
            ('cotton', 'cotton'): 0.8,
            ('silk', 'wool'): 0.7,
            ('knit', 'denim'): 0.8,
            ('leather', 'denim'): 0.6,
            ('wool', 'wool'): 0.9,
            ('linen', 'cotton'): 0.8,
            ('polyester', 'polyester'): 0.5,
            # ì•„ìš°í„° ì¡°í•©
            ('wool', 'cotton'): 0.8,
            ('leather', 'cotton'): 0.7,
            ('denim', 'cotton'): 0.8,
            ('knit', 'cotton'): 0.9,
        }
        
        self.fit_combinations = {
            # í• ì¡°í•© (ìƒì˜-í•˜ì˜)
            ('tight', 'loose'): 0.9,      # íƒ€ì´íŠ¸ ìƒì˜ + ë£¨ì¦ˆ í•˜ì˜
            ('loose', 'tight'): 0.9,      # ë£¨ì¦ˆ ìƒì˜ + íƒ€ì´íŠ¸ í•˜ì˜
            ('normal', 'normal'): 0.8,    # ë…¸ë©€ + ë…¸ë©€
            ('tight', 'tight'): 0.6,      # íƒ€ì´íŠ¸ + íƒ€ì´íŠ¸
            ('loose', 'loose'): 0.5,      # ë£¨ì¦ˆ + ë£¨ì¦ˆ
            ('oversized', 'tight'): 0.8,  # ì˜¤ë²„ì‚¬ì´ì¦ˆ + íƒ€ì´íŠ¸
            ('tight', 'oversized'): 0.7,  # íƒ€ì´íŠ¸ + ì˜¤ë²„ì‚¬ì´ì¦ˆ
        }
        
        # 24ê°œ ìŠ¤íƒ€ì¼ ì¡°í•© ë§¤íŠ¸ë¦­ìŠ¤ (í•œêµ­ì–´ ìŠ¤íƒ€ì¼ëª… ì§€ì›)
        self.style_combinations = {
            # ê¸°íƒ€
            ('ê¸°íƒ€', 'ê¸°íƒ€'): 1.0, ('ê¸°íƒ€', 'ë ˆíŠ¸ë¡œ'): 0.6, ('ê¸°íƒ€', 'ë¡œë§¨í‹±'): 0.5, ('ê¸°íƒ€', 'ë¦¬ì¡°íŠ¸'): 0.7, ('ê¸°íƒ€', 'ë§¤ë‹ˆì‹œ'): 0.6, ('ê¸°íƒ€', 'ëª¨ë˜'): 0.7, ('ê¸°íƒ€', 'ë°€ë¦¬í„°ë¦¬'): 0.5, ('ê¸°íƒ€', 'ì„¹ì‹œ'): 0.6, ('ê¸°íƒ€', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.6, ('ê¸°íƒ€', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.7, ('ê¸°íƒ€', 'ìŠ¤í¬í‹°'): 0.6, ('ê¸°íƒ€', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.8, ('ê¸°íƒ€', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.6, ('ê¸°íƒ€', 'ì›¨ìŠ¤í„´'): 0.5, ('ê¸°íƒ€', 'ì  ë”ë¦¬ìŠ¤'): 0.7, ('ê¸°íƒ€', 'ì»¨íŠ¸ë¦¬'): 0.6, ('ê¸°íƒ€', 'í´ë˜ì‹'): 0.6, ('ê¸°íƒ€', 'í‚¤ì¹˜'): 0.8, ('ê¸°íƒ€', 'í†°ë³´ì´'): 0.6, ('ê¸°íƒ€', 'í‘í¬'): 0.7, ('ê¸°íƒ€', 'í˜ë¯¸ë‹Œ'): 0.5, ('ê¸°íƒ€', 'í”„ë ˆí”¼'): 0.6, ('ê¸°íƒ€', 'íˆí”¼'): 0.7, ('ê¸°íƒ€', 'í™í•©'): 0.7,
            # ë ˆíŠ¸ë¡œ
            ('ë ˆíŠ¸ë¡œ', 'ê¸°íƒ€'): 0.6, ('ë ˆíŠ¸ë¡œ', 'ë ˆíŠ¸ë¡œ'): 1.0, ('ë ˆíŠ¸ë¡œ', 'ë¡œë§¨í‹±'): 0.8, ('ë ˆíŠ¸ë¡œ', 'ë¦¬ì¡°íŠ¸'): 0.6, ('ë ˆíŠ¸ë¡œ', 'ë§¤ë‹ˆì‹œ'): 0.7, ('ë ˆíŠ¸ë¡œ', 'ëª¨ë˜'): 0.4, ('ë ˆíŠ¸ë¡œ', 'ë°€ë¦¬í„°ë¦¬'): 0.5, ('ë ˆíŠ¸ë¡œ', 'ì„¹ì‹œ'): 0.6, ('ë ˆíŠ¸ë¡œ', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.7, ('ë ˆíŠ¸ë¡œ', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.5, ('ë ˆíŠ¸ë¡œ', 'ìŠ¤í¬í‹°'): 0.4, ('ë ˆíŠ¸ë¡œ', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.6, ('ë ˆíŠ¸ë¡œ', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.7, ('ë ˆíŠ¸ë¡œ', 'ì›¨ìŠ¤í„´'): 0.6, ('ë ˆíŠ¸ë¡œ', 'ì  ë”ë¦¬ìŠ¤'): 0.6, ('ë ˆíŠ¸ë¡œ', 'ì»¨íŠ¸ë¦¬'): 0.7, ('ë ˆíŠ¸ë¡œ', 'í´ë˜ì‹'): 0.9, ('ë ˆíŠ¸ë¡œ', 'í‚¤ì¹˜'): 0.8, ('ë ˆíŠ¸ë¡œ', 'í†°ë³´ì´'): 0.6, ('ë ˆíŠ¸ë¡œ', 'í‘í¬'): 0.5, ('ë ˆíŠ¸ë¡œ', 'í˜ë¯¸ë‹Œ'): 0.8, ('ë ˆíŠ¸ë¡œ', 'í”„ë ˆí”¼'): 0.7, ('ë ˆíŠ¸ë¡œ', 'íˆí”¼'): 0.8, ('ë ˆíŠ¸ë¡œ', 'í™í•©'): 0.4,
            # ë¡œë§¨í‹±
            ('ë¡œë§¨í‹±', 'ê¸°íƒ€'): 0.5, ('ë¡œë§¨í‹±', 'ë ˆíŠ¸ë¡œ'): 0.8, ('ë¡œë§¨í‹±', 'ë¡œë§¨í‹±'): 1.0, ('ë¡œë§¨í‹±', 'ë¦¬ì¡°íŠ¸'): 0.8, ('ë¡œë§¨í‹±', 'ë§¤ë‹ˆì‹œ'): 0.3, ('ë¡œë§¨í‹±', 'ëª¨ë˜'): 0.4, ('ë¡œë§¨í‹±', 'ë°€ë¦¬í„°ë¦¬'): 0.2, ('ë¡œë§¨í‹±', 'ì„¹ì‹œ'): 0.7, ('ë¡œë§¨í‹±', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.8, ('ë¡œë§¨í‹±', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.3, ('ë¡œë§¨í‹±', 'ìŠ¤í¬í‹°'): 0.2, ('ë¡œë§¨í‹±', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.4, ('ë¡œë§¨í‹±', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.8, ('ë¡œë§¨í‹±', 'ì›¨ìŠ¤í„´'): 0.3, ('ë¡œë§¨í‹±', 'ì  ë”ë¦¬ìŠ¤'): 0.4, ('ë¡œë§¨í‹±', 'ì»¨íŠ¸ë¦¬'): 0.6, ('ë¡œë§¨í‹±', 'í´ë˜ì‹'): 0.9, ('ë¡œë§¨í‹±', 'í‚¤ì¹˜'): 0.6, ('ë¡œë§¨í‹±', 'í†°ë³´ì´'): 0.3, ('ë¡œë§¨í‹±', 'í‘í¬'): 0.2, ('ë¡œë§¨í‹±', 'í˜ë¯¸ë‹Œ'): 1.0, ('ë¡œë§¨í‹±', 'í”„ë ˆí”¼'): 0.6, ('ë¡œë§¨í‹±', 'íˆí”¼'): 0.5, ('ë¡œë§¨í‹±', 'í™í•©'): 0.2,
            # ë¦¬ì¡°íŠ¸
            ('ë¦¬ì¡°íŠ¸', 'ê¸°íƒ€'): 0.7, ('ë¦¬ì¡°íŠ¸', 'ë ˆíŠ¸ë¡œ'): 0.6, ('ë¦¬ì¡°íŠ¸', 'ë¡œë§¨í‹±'): 0.8, ('ë¦¬ì¡°íŠ¸', 'ë¦¬ì¡°íŠ¸'): 1.0, ('ë¦¬ì¡°íŠ¸', 'ë§¤ë‹ˆì‹œ'): 0.5, ('ë¦¬ì¡°íŠ¸', 'ëª¨ë˜'): 0.7, ('ë¦¬ì¡°íŠ¸', 'ë°€ë¦¬í„°ë¦¬'): 0.4, ('ë¦¬ì¡°íŠ¸', 'ì„¹ì‹œ'): 0.6, ('ë¦¬ì¡°íŠ¸', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.7, ('ë¦¬ì¡°íŠ¸', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.5, ('ë¦¬ì¡°íŠ¸', 'ìŠ¤í¬í‹°'): 0.8, ('ë¦¬ì¡°íŠ¸', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.5, ('ë¦¬ì¡°íŠ¸', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.6, ('ë¦¬ì¡°íŠ¸', 'ì›¨ìŠ¤í„´'): 0.5, ('ë¦¬ì¡°íŠ¸', 'ì  ë”ë¦¬ìŠ¤'): 0.6, ('ë¦¬ì¡°íŠ¸', 'ì»¨íŠ¸ë¦¬'): 0.7, ('ë¦¬ì¡°íŠ¸', 'í´ë˜ì‹'): 0.6, ('ë¦¬ì¡°íŠ¸', 'í‚¤ì¹˜'): 0.5, ('ë¦¬ì¡°íŠ¸', 'í†°ë³´ì´'): 0.5, ('ë¦¬ì¡°íŠ¸', 'í‘í¬'): 0.4, ('ë¦¬ì¡°íŠ¸', 'í˜ë¯¸ë‹Œ'): 0.7, ('ë¦¬ì¡°íŠ¸', 'í”„ë ˆí”¼'): 0.7, ('ë¦¬ì¡°íŠ¸', 'íˆí”¼'): 0.6, ('ë¦¬ì¡°íŠ¸', 'í™í•©'): 0.4,
            # ë§¤ë‹ˆì‹œ
            ('ë§¤ë‹ˆì‹œ', 'ê¸°íƒ€'): 0.6, ('ë§¤ë‹ˆì‹œ', 'ë ˆíŠ¸ë¡œ'): 0.7, ('ë§¤ë‹ˆì‹œ', 'ë¡œë§¨í‹±'): 0.3, ('ë§¤ë‹ˆì‹œ', 'ë¦¬ì¡°íŠ¸'): 0.5, ('ë§¤ë‹ˆì‹œ', 'ë§¤ë‹ˆì‹œ'): 1.0, ('ë§¤ë‹ˆì‹œ', 'ëª¨ë˜'): 0.8, ('ë§¤ë‹ˆì‹œ', 'ë°€ë¦¬í„°ë¦¬'): 0.9, ('ë§¤ë‹ˆì‹œ', 'ì„¹ì‹œ'): 0.4, ('ë§¤ë‹ˆì‹œ', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.7, ('ë§¤ë‹ˆì‹œ', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.6, ('ë§¤ë‹ˆì‹œ', 'ìŠ¤í¬í‹°'): 0.7, ('ë§¤ë‹ˆì‹œ', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.6, ('ë§¤ë‹ˆì‹œ', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.5, ('ë§¤ë‹ˆì‹œ', 'ì›¨ìŠ¤í„´'): 0.7, ('ë§¤ë‹ˆì‹œ', 'ì  ë”ë¦¬ìŠ¤'): 0.9, ('ë§¤ë‹ˆì‹œ', 'ì»¨íŠ¸ë¦¬'): 0.6, ('ë§¤ë‹ˆì‹œ', 'í´ë˜ì‹'): 0.8, ('ë§¤ë‹ˆì‹œ', 'í‚¤ì¹˜'): 0.4, ('ë§¤ë‹ˆì‹œ', 'í†°ë³´ì´'): 0.9, ('ë§¤ë‹ˆì‹œ', 'í‘í¬'): 0.6, ('ë§¤ë‹ˆì‹œ', 'í˜ë¯¸ë‹Œ'): 0.3, ('ë§¤ë‹ˆì‹œ', 'í”„ë ˆí”¼'): 0.8, ('ë§¤ë‹ˆì‹œ', 'íˆí”¼'): 0.5, ('ë§¤ë‹ˆì‹œ', 'í™í•©'): 0.5,
            # ëª¨ë˜
            ('ëª¨ë˜', 'ê¸°íƒ€'): 0.7, ('ëª¨ë˜', 'ë ˆíŠ¸ë¡œ'): 0.4, ('ëª¨ë˜', 'ë¡œë§¨í‹±'): 0.4, ('ëª¨ë˜', 'ë¦¬ì¡°íŠ¸'): 0.7, ('ëª¨ë˜', 'ë§¤ë‹ˆì‹œ'): 0.8, ('ëª¨ë˜', 'ëª¨ë˜'): 1.0, ('ëª¨ë˜', 'ë°€ë¦¬í„°ë¦¬'): 0.6, ('ëª¨ë˜', 'ì„¹ì‹œ'): 0.5, ('ëª¨ë˜', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.9, ('ëª¨ë˜', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.7, ('ëª¨ë˜', 'ìŠ¤í¬í‹°'): 0.6, ('ëª¨ë˜', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.8, ('ëª¨ë˜', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.6, ('ëª¨ë˜', 'ì›¨ìŠ¤í„´'): 0.4, ('ëª¨ë˜', 'ì  ë”ë¦¬ìŠ¤'): 0.8, ('ëª¨ë˜', 'ì»¨íŠ¸ë¦¬'): 0.4, ('ëª¨ë˜', 'í´ë˜ì‹'): 0.8, ('ëª¨ë˜', 'í‚¤ì¹˜'): 0.5, ('ëª¨ë˜', 'í†°ë³´ì´'): 0.7, ('ëª¨ë˜', 'í‘í¬'): 0.5, ('ëª¨ë˜', 'í˜ë¯¸ë‹Œ'): 0.5, ('ëª¨ë˜', 'í”„ë ˆí”¼'): 0.7, ('ëª¨ë˜', 'íˆí”¼'): 0.4, ('ëª¨ë˜', 'í™í•©'): 0.6,
            # ë°€ë¦¬í„°ë¦¬
            ('ë°€ë¦¬í„°ë¦¬', 'ê¸°íƒ€'): 0.5, ('ë°€ë¦¬í„°ë¦¬', 'ë ˆíŠ¸ë¡œ'): 0.5, ('ë°€ë¦¬í„°ë¦¬', 'ë¡œë§¨í‹±'): 0.2, ('ë°€ë¦¬í„°ë¦¬', 'ë¦¬ì¡°íŠ¸'): 0.4, ('ë°€ë¦¬í„°ë¦¬', 'ë§¤ë‹ˆì‹œ'): 0.9, ('ë°€ë¦¬í„°ë¦¬', 'ëª¨ë˜'): 0.6, ('ë°€ë¦¬í„°ë¦¬', 'ë°€ë¦¬í„°ë¦¬'): 1.0, ('ë°€ë¦¬í„°ë¦¬', 'ì„¹ì‹œ'): 0.3, ('ë°€ë¦¬í„°ë¦¬', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.5, ('ë°€ë¦¬í„°ë¦¬', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.6, ('ë°€ë¦¬í„°ë¦¬', 'ìŠ¤í¬í‹°'): 0.7, ('ë°€ë¦¬í„°ë¦¬', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.5, ('ë°€ë¦¬í„°ë¦¬', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.4, ('ë°€ë¦¬í„°ë¦¬', 'ì›¨ìŠ¤í„´'): 0.6, ('ë°€ë¦¬í„°ë¦¬', 'ì  ë”ë¦¬ìŠ¤'): 0.8, ('ë°€ë¦¬í„°ë¦¬', 'ì»¨íŠ¸ë¦¬'): 0.5, ('ë°€ë¦¬í„°ë¦¬', 'í´ë˜ì‹'): 0.6, ('ë°€ë¦¬í„°ë¦¬', 'í‚¤ì¹˜'): 0.3, ('ë°€ë¦¬í„°ë¦¬', 'í†°ë³´ì´'): 0.8, ('ë°€ë¦¬í„°ë¦¬', 'í‘í¬'): 0.7, ('ë°€ë¦¬í„°ë¦¬', 'í˜ë¯¸ë‹Œ'): 0.2, ('ë°€ë¦¬í„°ë¦¬', 'í”„ë ˆí”¼'): 0.6, ('ë°€ë¦¬í„°ë¦¬', 'íˆí”¼'): 0.3, ('ë°€ë¦¬í„°ë¦¬', 'í™í•©'): 0.5,
            # ì„¹ì‹œ
            ('ì„¹ì‹œ', 'ê¸°íƒ€'): 0.6, ('ì„¹ì‹œ', 'ë ˆíŠ¸ë¡œ'): 0.6, ('ì„¹ì‹œ', 'ë¡œë§¨í‹±'): 0.7, ('ì„¹ì‹œ', 'ë¦¬ì¡°íŠ¸'): 0.6, ('ì„¹ì‹œ', 'ë§¤ë‹ˆì‹œ'): 0.4, ('ì„¹ì‹œ', 'ëª¨ë˜'): 0.5, ('ì„¹ì‹œ', 'ë°€ë¦¬í„°ë¦¬'): 0.3, ('ì„¹ì‹œ', 'ì„¹ì‹œ'): 1.0, ('ì„¹ì‹œ', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.6, ('ì„¹ì‹œ', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.5, ('ì„¹ì‹œ', 'ìŠ¤í¬í‹°'): 0.3, ('ì„¹ì‹œ', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.6, ('ì„¹ì‹œ', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.6, ('ì„¹ì‹œ', 'ì›¨ìŠ¤í„´'): 0.4, ('ì„¹ì‹œ', 'ì  ë”ë¦¬ìŠ¤'): 0.4, ('ì„¹ì‹œ', 'ì»¨íŠ¸ë¦¬'): 0.4, ('ì„¹ì‹œ', 'í´ë˜ì‹'): 0.5, ('ì„¹ì‹œ', 'í‚¤ì¹˜'): 0.5, ('ì„¹ì‹œ', 'í†°ë³´ì´'): 0.3, ('ì„¹ì‹œ', 'í‘í¬'): 0.6, ('ì„¹ì‹œ', 'í˜ë¯¸ë‹Œ'): 0.9, ('ì„¹ì‹œ', 'í”„ë ˆí”¼'): 0.4, ('ì„¹ì‹œ', 'íˆí”¼'): 0.4, ('ì„¹ì‹œ', 'í™í•©'): 0.4,
            # ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ
            ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'ê¸°íƒ€'): 0.6, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'ë ˆíŠ¸ë¡œ'): 0.7, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'ë¡œë§¨í‹±'): 0.8, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'ë¦¬ì¡°íŠ¸'): 0.7, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'ë§¤ë‹ˆì‹œ'): 0.7, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'ëª¨ë˜'): 0.9, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'ë°€ë¦¬í„°ë¦¬'): 0.5, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'ì„¹ì‹œ'): 0.6, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 1.0, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.4, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'ìŠ¤í¬í‹°'): 0.4, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.6, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.8, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'ì›¨ìŠ¤í„´'): 0.5, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'ì  ë”ë¦¬ìŠ¤'): 0.6, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'ì»¨íŠ¸ë¦¬'): 0.5, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'í´ë˜ì‹'): 0.9, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'í‚¤ì¹˜'): 0.4, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'í†°ë³´ì´'): 0.6, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'í‘í¬'): 0.3, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'í˜ë¯¸ë‹Œ'): 0.8, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'í”„ë ˆí”¼'): 0.8, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'íˆí”¼'): 0.4, ('ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ', 'í™í•©'): 0.3,
            # ìŠ¤íŠ¸ë¦¬íŠ¸
            ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'ê¸°íƒ€'): 0.7, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'ë ˆíŠ¸ë¡œ'): 0.5, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'ë¡œë§¨í‹±'): 0.3, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'ë¦¬ì¡°íŠ¸'): 0.5, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'ë§¤ë‹ˆì‹œ'): 0.6, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'ëª¨ë˜'): 0.7, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'ë°€ë¦¬í„°ë¦¬'): 0.6, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'ì„¹ì‹œ'): 0.5, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.4, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 1.0, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'ìŠ¤í¬í‹°'): 0.7, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.7, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.5, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'ì›¨ìŠ¤í„´'): 0.5, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'ì  ë”ë¦¬ìŠ¤'): 0.7, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'ì»¨íŠ¸ë¦¬'): 0.4, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'í´ë˜ì‹'): 0.4, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'í‚¤ì¹˜'): 0.6, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'í†°ë³´ì´'): 0.7, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'í‘í¬'): 0.8, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'í˜ë¯¸ë‹Œ'): 0.3, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'í”„ë ˆí”¼'): 0.5, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'íˆí”¼'): 0.6, ('ìŠ¤íŠ¸ë¦¬íŠ¸', 'í™í•©'): 0.9,
            # ìŠ¤í¬í‹°
            ('ìŠ¤í¬í‹°', 'ê¸°íƒ€'): 0.6, ('ìŠ¤í¬í‹°', 'ë ˆíŠ¸ë¡œ'): 0.4, ('ìŠ¤í¬í‹°', 'ë¡œë§¨í‹±'): 0.2, ('ìŠ¤í¬í‹°', 'ë¦¬ì¡°íŠ¸'): 0.8, ('ìŠ¤í¬í‹°', 'ë§¤ë‹ˆì‹œ'): 0.7, ('ìŠ¤í¬í‹°', 'ëª¨ë˜'): 0.6, ('ìŠ¤í¬í‹°', 'ë°€ë¦¬í„°ë¦¬'): 0.7, ('ìŠ¤í¬í‹°', 'ì„¹ì‹œ'): 0.3, ('ìŠ¤í¬í‹°', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.4, ('ìŠ¤í¬í‹°', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.7, ('ìŠ¤í¬í‹°', 'ìŠ¤í¬í‹°'): 1.0, ('ìŠ¤í¬í‹°', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.4, ('ìŠ¤í¬í‹°', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.5, ('ìŠ¤í¬í‹°', 'ì›¨ìŠ¤í„´'): 0.6, ('ìŠ¤í¬í‹°', 'ì  ë”ë¦¬ìŠ¤'): 0.8, ('ìŠ¤í¬í‹°', 'ì»¨íŠ¸ë¦¬'): 0.6, ('ìŠ¤í¬í‹°', 'í´ë˜ì‹'): 0.4, ('ìŠ¤í¬í‹°', 'í‚¤ì¹˜'): 0.4, ('ìŠ¤í¬í‹°', 'í†°ë³´ì´'): 0.8, ('ìŠ¤í¬í‹°', 'í‘í¬'): 0.5, ('ìŠ¤í¬í‹°', 'í˜ë¯¸ë‹Œ'): 0.2, ('ìŠ¤í¬í‹°', 'í”„ë ˆí”¼'): 0.6, ('ìŠ¤í¬í‹°', 'íˆí”¼'): 0.5, ('ìŠ¤í¬í‹°', 'í™í•©'): 0.6,
            # ì•„ë°©ê°€ë¥´ë“œ
            ('ì•„ë°©ê°€ë¥´ë“œ', 'ê¸°íƒ€'): 0.8, ('ì•„ë°©ê°€ë¥´ë“œ', 'ë ˆíŠ¸ë¡œ'): 0.6, ('ì•„ë°©ê°€ë¥´ë“œ', 'ë¡œë§¨í‹±'): 0.4, ('ì•„ë°©ê°€ë¥´ë“œ', 'ë¦¬ì¡°íŠ¸'): 0.5, ('ì•„ë°©ê°€ë¥´ë“œ', 'ë§¤ë‹ˆì‹œ'): 0.6, ('ì•„ë°©ê°€ë¥´ë“œ', 'ëª¨ë˜'): 0.8, ('ì•„ë°©ê°€ë¥´ë“œ', 'ë°€ë¦¬í„°ë¦¬'): 0.5, ('ì•„ë°©ê°€ë¥´ë“œ', 'ì„¹ì‹œ'): 0.6, ('ì•„ë°©ê°€ë¥´ë“œ', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.6, ('ì•„ë°©ê°€ë¥´ë“œ', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.7, ('ì•„ë°©ê°€ë¥´ë“œ', 'ìŠ¤í¬í‹°'): 0.4, ('ì•„ë°©ê°€ë¥´ë“œ', 'ì•„ë°©ê°€ë¥´ë“œ'): 1.0, ('ì•„ë°©ê°€ë¥´ë“œ', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.6, ('ì•„ë°©ê°€ë¥´ë“œ', 'ì›¨ìŠ¤í„´'): 0.4, ('ì•„ë°©ê°€ë¥´ë“œ', 'ì  ë”ë¦¬ìŠ¤'): 0.7, ('ì•„ë°©ê°€ë¥´ë“œ', 'ì»¨íŠ¸ë¦¬'): 0.4, ('ì•„ë°©ê°€ë¥´ë“œ', 'í´ë˜ì‹'): 0.4, ('ì•„ë°©ê°€ë¥´ë“œ', 'í‚¤ì¹˜'): 0.8, ('ì•„ë°©ê°€ë¥´ë“œ', 'í†°ë³´ì´'): 0.6, ('ì•„ë°©ê°€ë¥´ë“œ', 'í‘í¬'): 0.7, ('ì•„ë°©ê°€ë¥´ë“œ', 'í˜ë¯¸ë‹Œ'): 0.4, ('ì•„ë°©ê°€ë¥´ë“œ', 'í”„ë ˆí”¼'): 0.4, ('ì•„ë°©ê°€ë¥´ë“œ', 'íˆí”¼'): 0.6, ('ì•„ë°©ê°€ë¥´ë“œ', 'í™í•©'): 0.5,
            # ì˜¤ë¦¬ì—”íƒˆ
            ('ì˜¤ë¦¬ì—”íƒˆ', 'ê¸°íƒ€'): 0.6, ('ì˜¤ë¦¬ì—”íƒˆ', 'ë ˆíŠ¸ë¡œ'): 0.7, ('ì˜¤ë¦¬ì—”íƒˆ', 'ë¡œë§¨í‹±'): 0.8, ('ì˜¤ë¦¬ì—”íƒˆ', 'ë¦¬ì¡°íŠ¸'): 0.6, ('ì˜¤ë¦¬ì—”íƒˆ', 'ë§¤ë‹ˆì‹œ'): 0.5, ('ì˜¤ë¦¬ì—”íƒˆ', 'ëª¨ë˜'): 0.6, ('ì˜¤ë¦¬ì—”íƒˆ', 'ë°€ë¦¬í„°ë¦¬'): 0.4, ('ì˜¤ë¦¬ì—”íƒˆ', 'ì„¹ì‹œ'): 0.6, ('ì˜¤ë¦¬ì—”íƒˆ', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.8, ('ì˜¤ë¦¬ì—”íƒˆ', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.5, ('ì˜¤ë¦¬ì—”íƒˆ', 'ìŠ¤í¬í‹°'): 0.5, ('ì˜¤ë¦¬ì—”íƒˆ', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.6, ('ì˜¤ë¦¬ì—”íƒˆ', 'ì˜¤ë¦¬ì—”íƒˆ'): 1.0, ('ì˜¤ë¦¬ì—”íƒˆ', 'ì›¨ìŠ¤í„´'): 0.3, ('ì˜¤ë¦¬ì—”íƒˆ', 'ì  ë”ë¦¬ìŠ¤'): 0.5, ('ì˜¤ë¦¬ì—”íƒˆ', 'ì»¨íŠ¸ë¦¬'): 0.5, ('ì˜¤ë¦¬ì—”íƒˆ', 'í´ë˜ì‹'): 0.8, ('ì˜¤ë¦¬ì—”íƒˆ', 'í‚¤ì¹˜'): 0.5, ('ì˜¤ë¦¬ì—”íƒˆ', 'í†°ë³´ì´'): 0.4, ('ì˜¤ë¦¬ì—”íƒˆ', 'í‘í¬'): 0.4, ('ì˜¤ë¦¬ì—”íƒˆ', 'í˜ë¯¸ë‹Œ'): 0.7, ('ì˜¤ë¦¬ì—”íƒˆ', 'í”„ë ˆí”¼'): 0.6, ('ì˜¤ë¦¬ì—”íƒˆ', 'íˆí”¼'): 0.5, ('ì˜¤ë¦¬ì—”íƒˆ', 'í™í•©'): 0.3,
            # ì›¨ìŠ¤í„´
            ('ì›¨ìŠ¤í„´', 'ê¸°íƒ€'): 0.5, ('ì›¨ìŠ¤í„´', 'ë ˆíŠ¸ë¡œ'): 0.6, ('ì›¨ìŠ¤í„´', 'ë¡œë§¨í‹±'): 0.3, ('ì›¨ìŠ¤í„´', 'ë¦¬ì¡°íŠ¸'): 0.5, ('ì›¨ìŠ¤í„´', 'ë§¤ë‹ˆì‹œ'): 0.7, ('ì›¨ìŠ¤í„´', 'ëª¨ë˜'): 0.4, ('ì›¨ìŠ¤í„´', 'ë°€ë¦¬í„°ë¦¬'): 0.6, ('ì›¨ìŠ¤í„´', 'ì„¹ì‹œ'): 0.4, ('ì›¨ìŠ¤í„´', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.5, ('ì›¨ìŠ¤í„´', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.5, ('ì›¨ìŠ¤í„´', 'ìŠ¤í¬í‹°'): 0.6, ('ì›¨ìŠ¤í„´', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.4, ('ì›¨ìŠ¤í„´', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.3, ('ì›¨ìŠ¤í„´', 'ì›¨ìŠ¤í„´'): 1.0, ('ì›¨ìŠ¤í„´', 'ì  ë”ë¦¬ìŠ¤'): 0.6, ('ì›¨ìŠ¤í„´', 'ì»¨íŠ¸ë¦¬'): 0.9, ('ì›¨ìŠ¤í„´', 'í´ë˜ì‹'): 0.5, ('ì›¨ìŠ¤í„´', 'í‚¤ì¹˜'): 0.4, ('ì›¨ìŠ¤í„´', 'í†°ë³´ì´'): 0.7, ('ì›¨ìŠ¤í„´', 'í‘í¬'): 0.5, ('ì›¨ìŠ¤í„´', 'í˜ë¯¸ë‹Œ'): 0.3, ('ì›¨ìŠ¤í„´', 'í”„ë ˆí”¼'): 0.5, ('ì›¨ìŠ¤í„´', 'íˆí”¼'): 0.5, ('ì›¨ìŠ¤í„´', 'í™í•©'): 0.4,
            # ì  ë”ë¦¬ìŠ¤
            ('ì  ë”ë¦¬ìŠ¤', 'ê¸°íƒ€'): 0.7, ('ì  ë”ë¦¬ìŠ¤', 'ë ˆíŠ¸ë¡œ'): 0.6, ('ì  ë”ë¦¬ìŠ¤', 'ë¡œë§¨í‹±'): 0.4, ('ì  ë”ë¦¬ìŠ¤', 'ë¦¬ì¡°íŠ¸'): 0.6, ('ì  ë”ë¦¬ìŠ¤', 'ë§¤ë‹ˆì‹œ'): 0.9, ('ì  ë”ë¦¬ìŠ¤', 'ëª¨ë˜'): 0.8, ('ì  ë”ë¦¬ìŠ¤', 'ë°€ë¦¬í„°ë¦¬'): 0.8, ('ì  ë”ë¦¬ìŠ¤', 'ì„¹ì‹œ'): 0.4, ('ì  ë”ë¦¬ìŠ¤', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.6, ('ì  ë”ë¦¬ìŠ¤', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.7, ('ì  ë”ë¦¬ìŠ¤', 'ìŠ¤í¬í‹°'): 0.8, ('ì  ë”ë¦¬ìŠ¤', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.7, ('ì  ë”ë¦¬ìŠ¤', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.5, ('ì  ë”ë¦¬ìŠ¤', 'ì›¨ìŠ¤í„´'): 0.6, ('ì  ë”ë¦¬ìŠ¤', 'ì  ë”ë¦¬ìŠ¤'): 1.0, ('ì  ë”ë¦¬ìŠ¤', 'ì»¨íŠ¸ë¦¬'): 0.5, ('ì  ë”ë¦¬ìŠ¤', 'í´ë˜ì‹'): 0.6, ('ì  ë”ë¦¬ìŠ¤', 'í‚¤ì¹˜'): 0.5, ('ì  ë”ë¦¬ìŠ¤', 'í†°ë³´ì´'): 0.9, ('ì  ë”ë¦¬ìŠ¤', 'í‘í¬'): 0.6, ('ì  ë”ë¦¬ìŠ¤', 'í˜ë¯¸ë‹Œ'): 0.4, ('ì  ë”ë¦¬ìŠ¤', 'í”„ë ˆí”¼'): 0.6, ('ì  ë”ë¦¬ìŠ¤', 'íˆí”¼'): 0.6, ('ì  ë”ë¦¬ìŠ¤', 'í™í•©'): 0.6,
            # ì»¨íŠ¸ë¦¬
            ('ì»¨íŠ¸ë¦¬', 'ê¸°íƒ€'): 0.6, ('ì»¨íŠ¸ë¦¬', 'ë ˆíŠ¸ë¡œ'): 0.7, ('ì»¨íŠ¸ë¦¬', 'ë¡œë§¨í‹±'): 0.6, ('ì»¨íŠ¸ë¦¬', 'ë¦¬ì¡°íŠ¸'): 0.7, ('ì»¨íŠ¸ë¦¬', 'ë§¤ë‹ˆì‹œ'): 0.6, ('ì»¨íŠ¸ë¦¬', 'ëª¨ë˜'): 0.4, ('ì»¨íŠ¸ë¦¬', 'ë°€ë¦¬í„°ë¦¬'): 0.5, ('ì»¨íŠ¸ë¦¬', 'ì„¹ì‹œ'): 0.4, ('ì»¨íŠ¸ë¦¬', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.5, ('ì»¨íŠ¸ë¦¬', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.4, ('ì»¨íŠ¸ë¦¬', 'ìŠ¤í¬í‹°'): 0.6, ('ì»¨íŠ¸ë¦¬', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.4, ('ì»¨íŠ¸ë¦¬', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.5, ('ì»¨íŠ¸ë¦¬', 'ì›¨ìŠ¤í„´'): 0.9, ('ì»¨íŠ¸ë¦¬', 'ì  ë”ë¦¬ìŠ¤'): 0.5, ('ì»¨íŠ¸ë¦¬', 'ì»¨íŠ¸ë¦¬'): 1.0, ('ì»¨íŠ¸ë¦¬', 'í´ë˜ì‹'): 0.6, ('ì»¨íŠ¸ë¦¬', 'í‚¤ì¹˜'): 0.5, ('ì»¨íŠ¸ë¦¬', 'í†°ë³´ì´'): 0.6, ('ì»¨íŠ¸ë¦¬', 'í‘í¬'): 0.4, ('ì»¨íŠ¸ë¦¬', 'í˜ë¯¸ë‹Œ'): 0.5, ('ì»¨íŠ¸ë¦¬', 'í”„ë ˆí”¼'): 0.6, ('ì»¨íŠ¸ë¦¬', 'íˆí”¼'): 0.7, ('ì»¨íŠ¸ë¦¬', 'í™í•©'): 0.3,
            # í´ë˜ì‹
            ('í´ë˜ì‹', 'ê¸°íƒ€'): 0.6, ('í´ë˜ì‹', 'ë ˆíŠ¸ë¡œ'): 0.9, ('í´ë˜ì‹', 'ë¡œë§¨í‹±'): 0.9, ('í´ë˜ì‹', 'ë¦¬ì¡°íŠ¸'): 0.6, ('í´ë˜ì‹', 'ë§¤ë‹ˆì‹œ'): 0.8, ('í´ë˜ì‹', 'ëª¨ë˜'): 0.8, ('í´ë˜ì‹', 'ë°€ë¦¬í„°ë¦¬'): 0.6, ('í´ë˜ì‹', 'ì„¹ì‹œ'): 0.5, ('í´ë˜ì‹', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.9, ('í´ë˜ì‹', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.4, ('í´ë˜ì‹', 'ìŠ¤í¬í‹°'): 0.4, ('í´ë˜ì‹', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.4, ('í´ë˜ì‹', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.8, ('í´ë˜ì‹', 'ì›¨ìŠ¤í„´'): 0.5, ('í´ë˜ì‹', 'ì  ë”ë¦¬ìŠ¤'): 0.6, ('í´ë˜ì‹', 'ì»¨íŠ¸ë¦¬'): 0.6, ('í´ë˜ì‹', 'í´ë˜ì‹'): 1.0, ('í´ë˜ì‹', 'í‚¤ì¹˜'): 0.4, ('í´ë˜ì‹', 'í†°ë³´ì´'): 0.6, ('í´ë˜ì‹', 'í‘í¬'): 0.3, ('í´ë˜ì‹', 'í˜ë¯¸ë‹Œ'): 0.8, ('í´ë˜ì‹', 'í”„ë ˆí”¼'): 0.9, ('í´ë˜ì‹', 'íˆí”¼'): 0.4, ('í´ë˜ì‹', 'í™í•©'): 0.3,
            # í‚¤ì¹˜
            ('í‚¤ì¹˜', 'ê¸°íƒ€'): 0.8, ('í‚¤ì¹˜', 'ë ˆíŠ¸ë¡œ'): 0.8, ('í‚¤ì¹˜', 'ë¡œë§¨í‹±'): 0.6, ('í‚¤ì¹˜', 'ë¦¬ì¡°íŠ¸'): 0.5, ('í‚¤ì¹˜', 'ë§¤ë‹ˆì‹œ'): 0.4, ('í‚¤ì¹˜', 'ëª¨ë˜'): 0.5, ('í‚¤ì¹˜', 'ë°€ë¦¬í„°ë¦¬'): 0.3, ('í‚¤ì¹˜', 'ì„¹ì‹œ'): 0.5, ('í‚¤ì¹˜', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.4, ('í‚¤ì¹˜', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.6, ('í‚¤ì¹˜', 'ìŠ¤í¬í‹°'): 0.4, ('í‚¤ì¹˜', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.8, ('í‚¤ì¹˜', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.5, ('í‚¤ì¹˜', 'ì›¨ìŠ¤í„´'): 0.4, ('í‚¤ì¹˜', 'ì  ë”ë¦¬ìŠ¤'): 0.5, ('í‚¤ì¹˜', 'ì»¨íŠ¸ë¦¬'): 0.5, ('í‚¤ì¹˜', 'í´ë˜ì‹'): 0.4, ('í‚¤ì¹˜', 'í‚¤ì¹˜'): 1.0, ('í‚¤ì¹˜', 'í†°ë³´ì´'): 0.4, ('í‚¤ì¹˜', 'í‘í¬'): 0.6, ('í‚¤ì¹˜', 'í˜ë¯¸ë‹Œ'): 0.6, ('í‚¤ì¹˜', 'í”„ë ˆí”¼'): 0.4, ('í‚¤ì¹˜', 'íˆí”¼'): 0.7, ('í‚¤ì¹˜', 'í™í•©'): 0.5,
            # í†°ë³´ì´
            ('í†°ë³´ì´', 'ê¸°íƒ€'): 0.6, ('í†°ë³´ì´', 'ë ˆíŠ¸ë¡œ'): 0.6, ('í†°ë³´ì´', 'ë¡œë§¨í‹±'): 0.3, ('í†°ë³´ì´', 'ë¦¬ì¡°íŠ¸'): 0.5, ('í†°ë³´ì´', 'ë§¤ë‹ˆì‹œ'): 0.9, ('í†°ë³´ì´', 'ëª¨ë˜'): 0.7, ('í†°ë³´ì´', 'ë°€ë¦¬í„°ë¦¬'): 0.8, ('í†°ë³´ì´', 'ì„¹ì‹œ'): 0.3, ('í†°ë³´ì´', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.6, ('í†°ë³´ì´', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.7, ('í†°ë³´ì´', 'ìŠ¤í¬í‹°'): 0.8, ('í†°ë³´ì´', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.6, ('í†°ë³´ì´', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.4, ('í†°ë³´ì´', 'ì›¨ìŠ¤í„´'): 0.7, ('í†°ë³´ì´', 'ì  ë”ë¦¬ìŠ¤'): 0.9, ('í†°ë³´ì´', 'ì»¨íŠ¸ë¦¬'): 0.6, ('í†°ë³´ì´', 'í´ë˜ì‹'): 0.6, ('í†°ë³´ì´', 'í‚¤ì¹˜'): 0.4, ('í†°ë³´ì´', 'í†°ë³´ì´'): 1.0, ('í†°ë³´ì´', 'í‘í¬'): 0.6, ('í†°ë³´ì´', 'í˜ë¯¸ë‹Œ'): 0.3, ('í†°ë³´ì´', 'í”„ë ˆí”¼'): 0.7, ('í†°ë³´ì´', 'íˆí”¼'): 0.5, ('í†°ë³´ì´', 'í™í•©'): 0.5,
            # í‘í¬
            ('í‘í¬', 'ê¸°íƒ€'): 0.7, ('í‘í¬', 'ë ˆíŠ¸ë¡œ'): 0.5, ('í‘í¬', 'ë¡œë§¨í‹±'): 0.2, ('í‘í¬', 'ë¦¬ì¡°íŠ¸'): 0.4, ('í‘í¬', 'ë§¤ë‹ˆì‹œ'): 0.6, ('í‘í¬', 'ëª¨ë˜'): 0.5, ('í‘í¬', 'ë°€ë¦¬í„°ë¦¬'): 0.7, ('í‘í¬', 'ì„¹ì‹œ'): 0.6, ('í‘í¬', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.3, ('í‘í¬', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.8, ('í‘í¬', 'ìŠ¤í¬í‹°'): 0.5, ('í‘í¬', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.7, ('í‘í¬', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.4, ('í‘í¬', 'ì›¨ìŠ¤í„´'): 0.5, ('í‘í¬', 'ì  ë”ë¦¬ìŠ¤'): 0.6, ('í‘í¬', 'ì»¨íŠ¸ë¦¬'): 0.4, ('í‘í¬', 'í´ë˜ì‹'): 0.3, ('í‘í¬', 'í‚¤ì¹˜'): 0.6, ('í‘í¬', 'í†°ë³´ì´'): 0.6, ('í‘í¬', 'í‘í¬'): 1.0, ('í‘í¬', 'í˜ë¯¸ë‹Œ'): 0.3, ('í‘í¬', 'í”„ë ˆí”¼'): 0.4, ('í‘í¬', 'íˆí”¼'): 0.6, ('í‘í¬', 'í™í•©'): 0.7,
            # í˜ë¯¸ë‹Œ
            ('í˜ë¯¸ë‹Œ', 'ê¸°íƒ€'): 0.5, ('í˜ë¯¸ë‹Œ', 'ë ˆíŠ¸ë¡œ'): 0.8, ('í˜ë¯¸ë‹Œ', 'ë¡œë§¨í‹±'): 1.0, ('í˜ë¯¸ë‹Œ', 'ë¦¬ì¡°íŠ¸'): 0.7, ('í˜ë¯¸ë‹Œ', 'ë§¤ë‹ˆì‹œ'): 0.3, ('í˜ë¯¸ë‹Œ', 'ëª¨ë˜'): 0.5, ('í˜ë¯¸ë‹Œ', 'ë°€ë¦¬í„°ë¦¬'): 0.2, ('í˜ë¯¸ë‹Œ', 'ì„¹ì‹œ'): 0.9, ('í˜ë¯¸ë‹Œ', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.8, ('í˜ë¯¸ë‹Œ', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.3, ('í˜ë¯¸ë‹Œ', 'ìŠ¤í¬í‹°'): 0.2, ('í˜ë¯¸ë‹Œ', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.4, ('í˜ë¯¸ë‹Œ', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.7, ('í˜ë¯¸ë‹Œ', 'ì›¨ìŠ¤í„´'): 0.3, ('í˜ë¯¸ë‹Œ', 'ì  ë”ë¦¬ìŠ¤'): 0.4, ('í˜ë¯¸ë‹Œ', 'ì»¨íŠ¸ë¦¬'): 0.5, ('í˜ë¯¸ë‹Œ', 'í´ë˜ì‹'): 0.8, ('í˜ë¯¸ë‹Œ', 'í‚¤ì¹˜'): 0.6, ('í˜ë¯¸ë‹Œ', 'í†°ë³´ì´'): 0.3, ('í˜ë¯¸ë‹Œ', 'í‘í¬'): 0.3, ('í˜ë¯¸ë‹Œ', 'í˜ë¯¸ë‹Œ'): 1.0, ('í˜ë¯¸ë‹Œ', 'í”„ë ˆí”¼'): 0.6, ('í˜ë¯¸ë‹Œ', 'íˆí”¼'): 0.4, ('í˜ë¯¸ë‹Œ', 'í™í•©'): 0.2,
            # í”„ë ˆí”¼
            ('í”„ë ˆí”¼', 'ê¸°íƒ€'): 0.6, ('í”„ë ˆí”¼', 'ë ˆíŠ¸ë¡œ'): 0.7, ('í”„ë ˆí”¼', 'ë¡œë§¨í‹±'): 0.6, ('í”„ë ˆí”¼', 'ë¦¬ì¡°íŠ¸'): 0.7, ('í”„ë ˆí”¼', 'ë§¤ë‹ˆì‹œ'): 0.8, ('í”„ë ˆí”¼', 'ëª¨ë˜'): 0.7, ('í”„ë ˆí”¼', 'ë°€ë¦¬í„°ë¦¬'): 0.6, ('í”„ë ˆí”¼', 'ì„¹ì‹œ'): 0.4, ('í”„ë ˆí”¼', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.8, ('í”„ë ˆí”¼', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.5, ('í”„ë ˆí”¼', 'ìŠ¤í¬í‹°'): 0.6, ('í”„ë ˆí”¼', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.4, ('í”„ë ˆí”¼', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.6, ('í”„ë ˆí”¼', 'ì›¨ìŠ¤í„´'): 0.5, ('í”„ë ˆí”¼', 'ì  ë”ë¦¬ìŠ¤'): 0.6, ('í”„ë ˆí”¼', 'ì»¨íŠ¸ë¦¬'): 0.6, ('í”„ë ˆí”¼', 'í´ë˜ì‹'): 0.9, ('í”„ë ˆí”¼', 'í‚¤ì¹˜'): 0.4, ('í”„ë ˆí”¼', 'í†°ë³´ì´'): 0.7, ('í”„ë ˆí”¼', 'í‘í¬'): 0.4, ('í”„ë ˆí”¼', 'í˜ë¯¸ë‹Œ'): 0.6, ('í”„ë ˆí”¼', 'í”„ë ˆí”¼'): 1.0, ('í”„ë ˆí”¼', 'íˆí”¼'): 0.4, ('í”„ë ˆí”¼', 'í™í•©'): 0.4,
            # íˆí”¼
            ('íˆí”¼', 'ê¸°íƒ€'): 0.7, ('íˆí”¼', 'ë ˆíŠ¸ë¡œ'): 0.8, ('íˆí”¼', 'ë¡œë§¨í‹±'): 0.5, ('íˆí”¼', 'ë¦¬ì¡°íŠ¸'): 0.6, ('íˆí”¼', 'ë§¤ë‹ˆì‹œ'): 0.5, ('íˆí”¼', 'ëª¨ë˜'): 0.4, ('íˆí”¼', 'ë°€ë¦¬í„°ë¦¬'): 0.3, ('íˆí”¼', 'ì„¹ì‹œ'): 0.4, ('íˆí”¼', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.4, ('íˆí”¼', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.6, ('íˆí”¼', 'ìŠ¤í¬í‹°'): 0.5, ('íˆí”¼', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.6, ('íˆí”¼', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.5, ('íˆí”¼', 'ì›¨ìŠ¤í„´'): 0.5, ('íˆí”¼', 'ì  ë”ë¦¬ìŠ¤'): 0.6, ('íˆí”¼', 'ì»¨íŠ¸ë¦¬'): 0.7, ('íˆí”¼', 'í´ë˜ì‹'): 0.4, ('íˆí”¼', 'í‚¤ì¹˜'): 0.7, ('íˆí”¼', 'í†°ë³´ì´'): 0.5, ('íˆí”¼', 'í‘í¬'): 0.6, ('íˆí”¼', 'í˜ë¯¸ë‹Œ'): 0.4, ('íˆí”¼', 'í”„ë ˆí”¼'): 0.4, ('íˆí”¼', 'íˆí”¼'): 1.0, ('íˆí”¼', 'í™í•©'): 0.5,
            # í™í•©
            ('í™í•©', 'ê¸°íƒ€'): 0.7, ('í™í•©', 'ë ˆíŠ¸ë¡œ'): 0.4, ('í™í•©', 'ë¡œë§¨í‹±'): 0.2, ('í™í•©', 'ë¦¬ì¡°íŠ¸'): 0.4, ('í™í•©', 'ë§¤ë‹ˆì‹œ'): 0.5, ('í™í•©', 'ëª¨ë˜'): 0.6, ('í™í•©', 'ë°€ë¦¬í„°ë¦¬'): 0.5, ('í™í•©', 'ì„¹ì‹œ'): 0.4, ('í™í•©', 'ì†Œí”¼ìŠ¤íŠ¸ì¼€ì´í‹°ë“œ'): 0.3, ('í™í•©', 'ìŠ¤íŠ¸ë¦¬íŠ¸'): 0.9, ('í™í•©', 'ìŠ¤í¬í‹°'): 0.6, ('í™í•©', 'ì•„ë°©ê°€ë¥´ë“œ'): 0.5, ('í™í•©', 'ì˜¤ë¦¬ì—”íƒˆ'): 0.3, ('í™í•©', 'ì›¨ìŠ¤í„´'): 0.4, ('í™í•©', 'ì  ë”ë¦¬ìŠ¤'): 0.6, ('í™í•©', 'ì»¨íŠ¸ë¦¬'): 0.3, ('í™í•©', 'í´ë˜ì‹'): 0.3, ('í™í•©', 'í‚¤ì¹˜'): 0.5, ('í™í•©', 'í†°ë³´ì´'): 0.5, ('í™í•©', 'í‘í¬'): 0.7, ('í™í•©', 'í˜ë¯¸ë‹Œ'): 0.2, ('í™í•©', 'í”„ë ˆí”¼'): 0.4, ('í™í•©', 'íˆí”¼'): 0.5, ('í™í•©', 'í™í•©'): 1.0,
        }
        
        self.seasonal_suitability = {
            # ê³„ì ˆë³„ ì í•©ì„±
            'spring': {
                'materials': {'cotton': 0.9, 'linen': 0.8, 'silk': 0.7, 'wool': 0.3},
                'colors': {'pastel': 0.9, 'bright': 0.8, 'neutral': 0.7, 'dark': 0.4},
                'fits': {'normal': 0.9, 'loose': 0.8, 'tight': 0.7, 'oversized': 0.6}
            },
            'summer': {
                'materials': {'cotton': 0.9, 'linen': 0.9, 'silk': 0.8, 'wool': 0.1},
                'colors': {'bright': 0.9, 'pastel': 0.8, 'neutral': 0.7, 'dark': 0.3},
                'fits': {'loose': 0.9, 'normal': 0.8, 'oversized': 0.7, 'tight': 0.5}
            },
            'fall': {
                'materials': {'wool': 0.9, 'cotton': 0.7, 'leather': 0.8, 'silk': 0.5},
                'colors': {'neutral': 0.9, 'dark': 0.8, 'warm': 0.8, 'bright': 0.4},
                'fits': {'normal': 0.9, 'loose': 0.7, 'tight': 0.8, 'oversized': 0.6}
            },
            'winter': {
                'materials': {'wool': 0.9, 'leather': 0.8, 'knit': 0.9, 'cotton': 0.4},
                'colors': {'dark': 0.9, 'neutral': 0.8, 'warm': 0.7, 'bright': 0.3},
                'fits': {'normal': 0.9, 'tight': 0.8, 'loose': 0.6, 'oversized': 0.7}
            }
        }
        
        self.category_compatibility = {
            # ì¹´í…Œê³ ë¦¬ ì¡°í•© ì í•©ì„±
            ('top', 'bottom'): 0.9,
            ('top', 'outer'): 0.8,
            ('bottom', 'outer'): 0.7,
            ('dress', 'outer'): 0.6,
            ('dress', 'bottom'): 0.5,
            ('outer', 'top'): 0.8,
            ('outer', 'bottom'): 0.7,
        }
        
        # ìƒ‰ìƒ ë§¤í•‘ (í•œêµ­ì–´ â†’ ì˜ì–´)
        self.color_mapping = {
            'ë¸”ë™': 'black', 'í™”ì´íŠ¸': 'white', 'ë„¤ì´ë¹„': 'navy', 'ê·¸ë ˆì´': 'gray',
            'ë² ì´ì§€': 'beige', 'ë¸Œë¼ìš´': 'brown', 'ë ˆë“œ': 'red', 'í•‘í¬': 'pink',
            'ë¸”ë£¨': 'blue', 'ê·¸ë¦°': 'green', 'ì˜ë¡œìš°': 'yellow', 'í¼í”Œ': 'purple',
            'ì˜¤ë Œì§€': 'orange', 'ì‹¤ë²„': 'silver', 'ê³¨ë“œ': 'gold', 'none': 'neutral'
        }
        
        # ì†Œì¬ ë§¤í•‘ (í•œêµ­ì–´ â†’ ì˜ì–´)
        self.material_mapping = {
            'ì €ì§€': 'cotton', 'ìš°ë¸': 'cotton', 'ë°ë‹˜': 'denim', 'ë‹ˆíŠ¸': 'knit',
            'ê°€ì£½': 'leather', 'ì‹¤í¬': 'silk', 'ë¦°ë„¨': 'linen', 'ìš¸': 'wool',
            'í´ë¦¬ì—ìŠ¤í„°': 'polyester', 'ë ˆì´ìŠ¤': 'lace', 'ì‹œí°': 'chiffon'
        }
        
        # í• ë§¤í•‘ (í•œêµ­ì–´ â†’ ì˜ì–´)
        self.fit_mapping = {
            'íƒ€ì´íŠ¸': 'tight', 'ë…¸ë©€': 'normal', 'ë£¨ì¦ˆ': 'loose', 'ì˜¤ë²„ì‚¬ì´ì¦ˆ': 'oversized',
            'ì™€ì´ë“œ': 'loose', 'ìŠ¤í‚¤ë‹ˆ': 'tight', 'ë ˆê·¤ëŸ¬': 'normal'
        }

    def hex_to_hsv(self, hex_color: str) -> Tuple[float, float, float]:
        """HEX ìƒ‰ìƒì„ HSVë¡œ ë³€í™˜"""
        if hex_color.startswith('#'):
            hex_color = hex_color[1:]
        
        r = int(hex_color[0:2], 16) / 255.0
        g = int(hex_color[2:4], 16) / 255.0
        b = int(hex_color[4:6], 16) / 255.0
        
        return colorsys.rgb_to_hsv(r, g, b)

    def get_color_harmony_score(self, color1: str, color2: str) -> float:
        """ë‘ ìƒ‰ìƒ ê°„ì˜ ì¡°í™” ì ìˆ˜ ê³„ì‚°"""
        # ìƒ‰ìƒ ë§¤í•‘
        color1_en = self.color_mapping.get(color1.lower(), 'neutral')
        color2_en = self.color_mapping.get(color2.lower(), 'neutral')
        
        # ì¤‘ì„±ìƒ‰ ì²˜ë¦¬
        if color1_en == 'neutral' or color2_en == 'neutral':
            return self.color_harmony_weights['neutral']
        
        # ê¸°ë³¸ ìƒ‰ìƒ ì¡°í™” ê·œì¹™
        harmony_rules = {
            # ë³´ìƒ‰ ì¡°í™”
            ('red', 'green'): 'complementary',
            ('blue', 'orange'): 'complementary',
            ('yellow', 'purple'): 'complementary',
            
            # ìœ ì‚¬ìƒ‰ ì¡°í™”
            ('red', 'orange'): 'analogous',
            ('orange', 'yellow'): 'analogous',
            ('yellow', 'green'): 'analogous',
            ('green', 'blue'): 'analogous',
            ('blue', 'purple'): 'analogous',
            ('purple', 'red'): 'analogous',
            
            # ë‹¨ìƒ‰ ì¡°í™”
            ('black', 'white'): 'monochromatic',
            ('black', 'gray'): 'monochromatic',
            ('white', 'gray'): 'monochromatic',
            ('navy', 'blue'): 'monochromatic',
            ('brown', 'beige'): 'monochromatic',
        }
        
        # ì¡°í™” ìœ í˜• ì°¾ê¸°
        harmony_type = harmony_rules.get((color1_en, color2_en)) or \
                      harmony_rules.get((color2_en, color1_en))
        
        if harmony_type:
            return self.color_harmony_weights[harmony_type]
        
        # ê¸°ë³¸ ì ìˆ˜ (ìƒ‰ìƒì´ ë‹¤ë¥´ë©´ ì¤‘ê°„ ì ìˆ˜)
        return 0.5

    def get_material_combination_score(self, materials1: List[str], materials2: List[str]) -> float:
        """ì†Œì¬ ì¡°í•© ì ìˆ˜ ê³„ì‚°"""
        if not materials1 or not materials2:
            return 0.5
        
        # ì†Œì¬ ë§¤í•‘
        mats1_en = [self.material_mapping.get(mat.lower(), mat.lower()) for mat in materials1]
        mats2_en = [self.material_mapping.get(mat.lower(), mat.lower()) for mat in materials2]
        
        max_score = 0.0
        for mat1 in mats1_en:
            for mat2 in mats2_en:
                # ì§ì ‘ ì¡°í•© ì°¾ê¸°
                score = self.material_combinations.get((mat1, mat2), 0.0)
                if score == 0.0:
                    # ì—­ìˆœ ì¡°í•© ì°¾ê¸°
                    score = self.material_combinations.get((mat2, mat1), 0.0)
                
                max_score = max(max_score, score)
        
        return max_score if max_score > 0 else 0.5

    def get_fit_combination_score(self, fit1: str, fit2: str) -> float:
        """í• ì¡°í•© ì ìˆ˜ ê³„ì‚°"""
        fit1_en = self.fit_mapping.get(fit1.lower(), fit1.lower())
        fit2_en = self.fit_mapping.get(fit2.lower(), fit2.lower())
        
        return self.fit_combinations.get((fit1_en, fit2_en), 0.5)

    def get_style_combination_score(self, style1: str, style2: str) -> float:
        """ìŠ¤íƒ€ì¼ ì¡°í•© ì ìˆ˜ ê³„ì‚°"""
        return self.style_combinations.get((style1.lower(), style2.lower()), 0.5)

    def get_seasonal_suitability_score(self, item: FashionItem, season: str) -> float:
        """ê³„ì ˆë³„ ì í•©ì„± ì ìˆ˜ ê³„ì‚°"""
        if season not in self.seasonal_suitability:
            return 0.5
        
        season_data = self.seasonal_suitability[season]
        
        # ì†Œì¬ ì ìˆ˜
        material_score = 0.0
        if item.materials:
            for material in item.materials:
                mat_en = self.material_mapping.get(material.lower(), material.lower())
                material_score += season_data['materials'].get(mat_en, 0.5)
            material_score /= len(item.materials)
        else:
            material_score = 0.5
        
        # ìƒ‰ìƒ ì ìˆ˜
        color_en = self.color_mapping.get(item.color.lower(), 'neutral')
        color_type = self._get_color_type(color_en)
        color_score = season_data['colors'].get(color_type, 0.5)
        
        # í• ì ìˆ˜
        fit_en = self.fit_mapping.get(item.fit.lower(), item.fit.lower())
        fit_score = season_data['fits'].get(fit_en, 0.5)
        
        # ê°€ì¤‘ í‰ê· 
        return (material_score * 0.4 + color_score * 0.3 + fit_score * 0.3)

    def _get_color_type(self, color: str) -> str:
        """ìƒ‰ìƒì„ íƒ€ì…ìœ¼ë¡œ ë¶„ë¥˜"""
        bright_colors = ['red', 'blue', 'green', 'yellow', 'orange', 'purple', 'pink']
        pastel_colors = ['light blue', 'light pink', 'light green', 'light yellow']
        dark_colors = ['black', 'navy', 'dark blue', 'dark green', 'dark red']
        warm_colors = ['red', 'orange', 'yellow', 'brown', 'beige']
        neutral_colors = ['white', 'black', 'gray', 'beige', 'brown']
        
        if color in bright_colors:
            return 'bright'
        elif color in pastel_colors:
            return 'pastel'
        elif color in dark_colors:
            return 'dark'
        elif color in warm_colors:
            return 'warm'
        elif color in neutral_colors:
            return 'neutral'
        else:
            return 'neutral'

    def get_category_compatibility_score(self, category1: str, category2: str) -> float:
        """ì¹´í…Œê³ ë¦¬ ì¡°í•© ì í•©ì„± ì ìˆ˜"""
        return self.category_compatibility.get((category1, category2), 0.5)

    def calculate_recommendation_score(self, 
                                     base_item: FashionItem, 
                                     candidate_item: FashionItem,
                                     season: str = 'spring') -> RecommendationScore:
        """ì¢…í•© ì¶”ì²œ ì ìˆ˜ ê³„ì‚°"""
        
        # 1. ìƒ‰ìƒ ì¡°í™” ì ìˆ˜
        color_harmony = self.get_color_harmony_score(base_item.color, candidate_item.color)
        
        # 2. ì†Œì¬ ì¡°í•© ì ìˆ˜
        material_combination = self.get_material_combination_score(
            base_item.materials, candidate_item.materials
        )
        
        # 3. í• ì¡°í•© ì ìˆ˜
        fit_combination = self.get_fit_combination_score(base_item.fit, candidate_item.fit)
        
        # 4. ìŠ¤íƒ€ì¼ ì¡°í•© ì ìˆ˜
        style_combination = self.get_style_combination_score(base_item.style, candidate_item.style)
        
        # 5. ê³„ì ˆë³„ ì í•©ì„± ì ìˆ˜
        seasonal_suitability = self.get_seasonal_suitability_score(candidate_item, season)
        
        # 6. ì¹´í…Œê³ ë¦¬ ì¡°í•© ì í•©ì„± ì ìˆ˜
        category_compatibility = self.get_category_compatibility_score(
            base_item.category, candidate_item.category
        )
        
        # ê°€ì¤‘ í‰ê· ìœ¼ë¡œ ì´ì  ê³„ì‚°
        weights = {
            'color_harmony': 0.25,
            'material_combination': 0.20,
            'fit_combination': 0.20,
            'style_combination': 0.15,
            'seasonal_suitability': 0.10,
            'category_compatibility': 0.10
        }
        
        total_score = (
            color_harmony * weights['color_harmony'] +
            material_combination * weights['material_combination'] +
            fit_combination * weights['fit_combination'] +
            style_combination * weights['style_combination'] +
            seasonal_suitability * weights['seasonal_suitability'] +
            category_compatibility * weights['category_compatibility']
        )
        
        return RecommendationScore(
            total_score=total_score,
            color_harmony=color_harmony,
            material_combination=material_combination,
            fit_combination=fit_combination,
            style_combination=style_combination,
            seasonal_suitability=seasonal_suitability,
            category_compatibility=category_compatibility
        )

    def recommend_items(self, 
                       base_item: FashionItem, 
                       candidate_items: List[FashionItem],
                       season: str = 'spring',
                       n_results: int = 5) -> List[Tuple[FashionItem, RecommendationScore]]:
        """ì•„ì´í…œ ì¶”ì²œ"""
        
        scored_items = []
        for candidate in candidate_items:
            if candidate.item_id == base_item.item_id:
                continue  # ìê¸° ìì‹  ì œì™¸
            
            score = self.calculate_recommendation_score(base_item, candidate, season)
            scored_items.append((candidate, score))
        
        # ì ìˆ˜ ìˆœìœ¼ë¡œ ì •ë ¬
        scored_items.sort(key=lambda x: x[1].total_score, reverse=True)
        
        return scored_items[:n_results]

    def get_recommendation_explanation(self, base_item: FashionItem, 
                                     candidate_item: FashionItem, 
                                     score: RecommendationScore) -> str:
        """ì¶”ì²œ ì´ìœ  ì„¤ëª… ìƒì„±"""
        explanations = []
        
        if score.color_harmony > 0.7:
            explanations.append(f"ğŸ¨ ìƒ‰ìƒ ì¡°í™”ê°€ ì¢‹ìŠµë‹ˆë‹¤ ({score.color_harmony:.2f})")
        elif score.color_harmony < 0.4:
            explanations.append(f"ğŸ¨ ìƒ‰ìƒ ì¡°í™”ë¥¼ ê°œì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ ({score.color_harmony:.2f})")
        
        if score.material_combination > 0.7:
            explanations.append(f"ğŸ§µ ì†Œì¬ ì¡°í•©ì´ ì í•©í•©ë‹ˆë‹¤ ({score.material_combination:.2f})")
        
        if score.fit_combination > 0.7:
            explanations.append(f"ğŸ“ í• ì¡°í•©ì´ ì˜ ë§ìŠµë‹ˆë‹¤ ({score.fit_combination:.2f})")
        
        if score.style_combination > 0.7:
            explanations.append(f"âœ¨ ìŠ¤íƒ€ì¼ì´ ì¡°í™”ë¡­ìŠµë‹ˆë‹¤ ({score.style_combination:.2f})")
        
        if score.seasonal_suitability > 0.7:
            explanations.append(f"ğŸŒ¤ï¸ ê³„ì ˆì— ì í•©í•©ë‹ˆë‹¤ ({score.seasonal_suitability:.2f})")
        
        if not explanations:
            explanations.append("ğŸ’¡ ê¸°ë³¸ì ì¸ ì¡°í•©ì…ë‹ˆë‹¤")
        
        return " | ".join(explanations)
